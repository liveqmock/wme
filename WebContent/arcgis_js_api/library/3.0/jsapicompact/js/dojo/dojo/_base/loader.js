/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
define("dojo/_base/loader",["./kernel","../has","require","module","./json","./lang","./array"],function(_1,_2,_3,_4,_5,_6,_7){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}var _8=function(id){return {src:_4.id,id:id};},_9=function(_a){return _a.replace(/\./g,"/");},_b=/\/\/>>built/,_c=[],_d=[],_e=function(_f,_10,_11){_c.push(_11);_7.forEach(_f.split(","),function(mid){var _12=_13(mid,_10.module);_d.push(_12);_14(_12);});_15();},_16,_17=function(m){if(_16[m.mid]===1||/loadInit\!/.test(m.mid)||/require\!/.test(m.mid)){_16[m.mid]=1;return true;}if(_16[m.mid]===0||(m.injected!==_18&&!m.executed)){_16[m.mid]=0;return false;}_16[m.mid]=1;for(var _19=m.deps||[],i=0;i<_19.length;i++){if(!_17(_19[i])){_16[m.mid]=0;return false;}}return true;},_15=function(){_16={};for(var i=0,end=_d.length;i<end;i++){if(!_17(_d[i])){return;}}_1a.holdIdle();var _1b=_c;_c=[];_7.forEach(_1b,function(cb){cb(1);});_1a.releaseIdle();},_1c=function(mid,_1d,_1e){_1d([mid],function(_1f){_1d(_1f.names,function(){for(var _20="",_21=[],i=0;i<arguments.length;i++){_20+="var "+_1f.names[i]+"= arguments["+i+"]; ";_21.push(arguments[i]);}eval(_20);var _22=_1d.module,_23=[],_24={},_25=[],p,_26={provide:function(_27){_27=_9(_27);var _28=_13(_27,_22);if(_28!==_22){_51(_28);}},require:function(_29,_2a){_29=_9(_29);_2a&&(_13(_29,_22).result=_4b);_25.push(_29);},requireLocalization:function(_2b,_2c,_2d){_23.length||(_23=["dojo/i18n"]);_2d=(_2d||_1.locale).toLowerCase();_2b=_9(_2b)+"/nls/"+(/root/i.test(_2d)?"":_2d+"/")+_9(_2c);if(_13(_2b,_22).isXd){_23.push("dojo/i18n!"+_2b);}},loadInit:function(f){f();}};try{for(p in _26){_24[p]=_1[p];_1[p]=_26[p];}_1f.def.apply(null,_21);}catch(e){_52("error",[_8("failedDojoLoadInit"),e]);}finally{for(p in _26){_1[p]=_24[p];}}_25.length&&_23.push("dojo/require!"+_25.join(","));_c.push(_1e);_7.forEach(_25,function(mid){var _2e=_13(mid,_1d.module);_d.push(_2e);_14(_2e);});_15();});});},_2f=function(_30,_31,_32){var _33=/\(|\)/g,_34=1,_35;_33.lastIndex=_31;while((_35=_33.exec(_30))){if(_35[0]==")"){_34-=1;}else{_34+=1;}if(_34==0){break;}}if(_34!=0){throw "unmatched paren around character "+_33.lastIndex+" in: "+_30;}return [_1.trim(_30.substring(_32,_33.lastIndex))+";\n",_33.lastIndex];},_36=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_37=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_38=/(^|\s)(require|define)\s*\(/m,_39=function(_3a,_3b){var _3c,_3d,_3e,_3f,_40=[],_41=[],_42=[];_3b=_3b||_3a.replace(_36,function(_43){_37.lastIndex=_38.lastIndex=0;return (_37.test(_43)||_38.test(_43))?"":_43;});while((_3c=_37.exec(_3b))){_3d=_37.lastIndex;_3e=_3d-_3c[0].length;_3f=_2f(_3b,_3d,_3e);if(_3c[2]=="loadInit"){_40.push(_3f[0]);}else{_41.push(_3f[0]);}_37.lastIndex=_3f[1];}_42=_40.concat(_41);if(_42.length||!_38.test(_3b)){return [_3a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_42.join(""),_42];}else{return 0;}},_44=function(_45,_46){var _47,id,_48=[],_49=[];if(_b.test(_46)||!(_47=_39(_46))){return 0;}id=_45.mid+"-*loadInit";for(var p in _13("dojo",_45).result.scopeMap){_48.push(p);_49.push("\""+p+"\"");}return "// xdomain rewrite of "+_45.path+"\n"+"define('"+id+"',{\n"+"\tnames:"+_1.toJson(_48)+",\n"+"\tdef:function("+_48.join(",")+"){"+_47[1]+"}"+"});\n\n"+"define("+_1.toJson(_48.concat(["dojo/loadInit!"+id]))+", function("+_48.join(",")+"){\n"+_47[0]+"});";},_1a=_3.initSyncLoader(_e,_15,_44),_4a=_1a.sync,xd=_1a.xd,_18=_1a.arrived,_4b=_1a.nonmodule,_4c=_1a.executing,_4d=_1a.executed,_4e=_1a.syncExecStack,_4f=_1a.modules,_50=_1a.execQ,_13=_1a.getModule,_14=_1a.injectModule,_51=_1a.setArrived,_52=_1a.signal,_53=_1a.finishExec,_54=_1a.execModule,_55=_1a.getLegacyMode;_1.provide=function(mid){var _56=_4e[0],_57=_6.mixin(_13(_9(mid),_3.module),{executed:_4c,result:_6.getObject(mid,true)});_51(_57);if(_56){(_56.provides||(_56.provides=[])).push(function(){_57.result=_6.getObject(mid);delete _57.provides;_57.executed!==_4d&&_53(_57);});}return _57.result;};_2.add("config-publishRequireResult",1,0,0);_1.require=function(_58,_59){function _5a(mid,_5b){var _5c=_13(_9(mid),_3.module);if(_4e.length&&_4e[0].finish){_4e[0].finish.push(mid);return undefined;}if(_5c.executed){return _5c.result;}_5b&&(_5c.result=_4b);var _5d=_55();_14(_5c);_5d=_55();if(_5c.executed!==_4d&&_5c.injected===_18){_1a.holdIdle();_54(_5c);_1a.releaseIdle();}if(_5c.executed){return _5c.result;}if(_5d==_4a){if(_5c.cjs){_50.unshift(_5c);}else{_4e.length&&(_4e[0].finish=[mid]);}}else{_50.push(_5c);}return undefined;};var _5e=_5a(_58,_59);if(_2("config-publishRequireResult")&&!_6.exists(_58)&&_5e!==undefined){_6.setObject(_58,_5e);}return _5e;};_1.loadInit=function(f){f();};_1.registerModulePath=function(_5f,_60){var _61={};_61[_5f.replace(/\./g,"/")]=_60;_3({paths:_61});};_1.platformRequire=function(_62){var _63=(_62.common||[]).concat(_62[_1._name]||_62["default"]||[]),_64;while(_63.length){if(_6.isArray(_64=_63.shift())){_1.require.apply(_1,_64);}else{_1.require(_64);}}};_1.requireIf=_1.requireAfterIf=function(_65,_66,_67){if(_65){_1.require(_66,_67);}};_1.requireLocalization=function(_68,_69,_6a){_3(["../i18n"],function(_6b){_6b.getLocalization(_68,_69,_6a);});};return {extractLegacyApiApplications:_39,require:_1a.dojoRequirePlugin,loadInit:_1c};});